{% extends "layout2.html" %}
{% block body_content %}

<!-- Displaying flashed messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="alert alert-success" role="alert">
                {{ messages[0][0] }}  <!-- Display the first flash message -->
            </div>
        {% endif %}
    {% endwith %}

<section class="mt-4 text-center">
    <h3 class="mb-4">Register a Person</h3>
    <form method="POST" class="d-inline-block text-start" style="max-width: 400px; width: 100%;">
        {{ form.hidden_tag() }}

        <div class="mb-3">
            {{ form.first_name.label(class="form-label") }}
            {{ form.first_name(class="form-control") }}
        </div>

        <div class="mb-3">
            {{ form.last_name.label(class="form-label") }}
            {{ form.last_name(class="form-control") }}
        </div>

        <div class="mb-3">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control") }}
        </div>

        <div class="mb-3 text-center">
            {{ form.submit(class="btn btn-success") }}
        </div>

        {% if message %}
        <div class="alert alert-warning text-center" id="message">
            {{ message }}
        </div>
        {% endif %}
    </form>

    <div class="mt-3">
        <a href="/people" class="btn btn-link">Show All People</a>
    </div>
</section>

{% endblock %}
